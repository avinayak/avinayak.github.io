<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Deobfuscating a Maze Program — a.tulv.in</title>
	<meta name="description" content="Title: Deobfuscating a Maze Program; Date: 2020-10-25; Author: Atul Vinayak">
	<meta name="author" content="Atul Vinayak">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="https://a.tulv.in/theme/html5.js"></script>
		<![endif]-->
	<link href="https://a.tulv.in/theme/css/ipython.css" rel="stylesheet">
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="https://a.tulv.in/theme/css/local.css" rel="stylesheet">
	<link href="https://a.tulv.in/theme/css/pygments.css" rel="stylesheet">
	<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
</head>
<body>
<div class="container">
	<div class="page-header">
		<h1><a href="https://a.tulv.in/">a.tulv.in</a>	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.js"></script>
<script>
  function setup() {
    var canvas = createCanvas(20, 20);
    canvas.parent("homePageArtCanvas");
    noStroke();

    // Random Spaceship Assembly
    // By Atul Vinayak
    npix = 5;
    w = width / npix;
    for (var y = 0; y < npix; y++) {
      for (var x = 0; x < npix / 2; x++) {
        if (random(1) < 0.5) {
          fill(0);
          rect(x * w, y * w, w, w);
          rect((npix - x - 1) * w, y * w, w, w);
        }
      }
    }
  }
</script>
<span id="homePageArtCanvas"></span>			<br>	</div>

	<div class="row">
		<div class="col-md-12">
<div class="article" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="title-card">
		<div class="category">
			<a href="https://a.tulv.in/category/programming.html" rel="category">Programming</a>
		</div>
	
		<div class="article-header">
			<h1 itemprop="name headline" class="article-title">Deobfuscating a Maze Program</h1>
		</div>
	</div>

	<div class="article-tags">
	<time datetime="2020-10-25T15:00:00+00:00" itemprop="datePublished">Sun 25 October 2020</time>
 
	<div>
		<span itemprop="keywords">
			<a href="https://a.tulv.in/tag/programming.html" rel="tag">programming</a>
		</span>
		<span itemprop="keywords">
			<a href="https://a.tulv.in/tag/algorithm.html" rel="tag">algorithm</a>
		</span>
		<span itemprop="keywords">
			<a href="https://a.tulv.in/tag/research.html" rel="tag">research</a>
		</span>
		<span itemprop="keywords">
			<a href="https://a.tulv.in/tag/c.html" rel="tag">C</a>
		</span>
	</div>
	</div>

	<div itemprop="articleBody" class="article-body"><p>I was wandering in Wikipedia when I came across this interesting page <a href="https://en.wikipedia.org/wiki/Obfuscation_" title="https://en.wikipedia.org/wiki/Obfuscation_">https://en.wikipedia.org/wiki/Obfuscation_</a>(software), and this interesting piece of code.</p>
<div class="highlight"><pre><span></span><code><span class="nc">char</span><span class="o">*</span><span class="n">M</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span><span class="n">E</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">J</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">,</span><span class="n">T</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">;</span><span class="n">main</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="err">{</span><span class="k">for</span><span class="p">(</span><span class="o">*</span><span class="n">J</span><span class="o">=</span><span class="n">A</span><span class="o">=</span><span class="n">scanf</span><span class="p">(</span><span class="n">M</span><span class="o">=</span><span class="ss">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">C</span><span class="p">);</span>
<span class="o">--</span><span class="w">            </span><span class="n">E</span><span class="p">;</span><span class="w">             </span><span class="n">J</span><span class="o">[</span><span class="n">              E</span><span class="o">]</span><span class="w">             </span><span class="o">=</span><span class="n">T</span>
<span class="o">[</span><span class="n">E   </span><span class="o">]=</span><span class="w">  </span><span class="n">E</span><span class="p">)</span><span class="w">   </span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;._&quot;</span><span class="p">);</span><span class="w">  </span><span class="k">for</span><span class="p">(;(</span><span class="n">A</span><span class="o">-=</span><span class="n">Z</span><span class="o">=</span><span class="err">!</span><span class="n">Z</span><span class="p">)</span><span class="w">  </span><span class="o">||</span><span class="w">  </span><span class="p">(</span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;\n|&quot;</span>
<span class="p">)</span><span class="w">    </span><span class="p">,</span><span class="w">   </span><span class="n">A</span><span class="w">    </span><span class="o">=</span><span class="w">              </span><span class="mi">39</span><span class="w">              </span><span class="p">,</span><span class="n">C</span><span class="w">             </span><span class="o">--</span>
<span class="p">)</span><span class="w">    </span><span class="p">;</span><span class="w">   </span><span class="n">Z</span><span class="w">    </span><span class="o">||</span><span class="w">    </span><span class="n">printf</span><span class="w">   </span><span class="p">(</span><span class="n">M</span><span class="w">   </span><span class="p">))</span><span class="n">M</span><span class="o">[</span><span class="n">Z</span><span class="o">]=</span><span class="n">Z</span><span class="o">[</span><span class="n">A-(E   =A[J-Z</span><span class="o">]</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="err">!</span><span class="n">C</span>
<span class="o">&amp;</span><span class="w">    </span><span class="n">A</span><span class="w">   </span><span class="o">==</span><span class="w">             </span><span class="n">T</span><span class="o">[</span><span class="n">                                  A</span><span class="o">]</span>
<span class="o">|</span><span class="mi">6</span><span class="o">&lt;&lt;</span><span class="mi">27</span><span class="o">&lt;</span><span class="nf">rand</span><span class="p">()</span><span class="o">||</span><span class="err">!</span><span class="n">C</span><span class="o">&amp;</span><span class="err">!</span><span class="n">Z</span><span class="vm">?</span><span class="n">J</span><span class="o">[</span><span class="n">T[E</span><span class="o">]=</span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="err">]</span><span class="o">=</span><span class="n">E</span><span class="p">,</span><span class="n">J</span><span class="o">[</span><span class="n">T[A</span><span class="o">]=</span><span class="n">A</span><span class="o">-</span><span class="n">Z</span><span class="err">]</span><span class="o">=</span><span class="n">A</span><span class="p">,</span><span class="ss">&quot;_.&quot;</span><span class="err">:</span><span class="ss">&quot; |&quot;</span><span class="err">]</span><span class="p">;</span><span class="err">}</span>
</code></pre></div>

<p>According to the article, this was a non winning entry for the 1988 <a href="https://en.wikipedia.org/wiki/International_Obfuscated_C_Code_Contest">International Obfuscated C Code Contest</a>. I really have no idea how anyone could've topped this. I searched around <a href="http://www.de.ioccc.org/years.html#1988" title="http://www.de.ioccc.org/years.html#1988">http://www.de.ioccc.org/years.html#1988</a>, but it looks like this entry is missing in this page. Wikipedia citation points me to a book, which I might check out later.</p>
<p>The interesting part is..</p>
<ul>
<li>It looks like a maze.</li>
<li>It can generate mazes of any height.</li>
<li>The word MAZE is spelled with white-spaces if you look carefully. Here's it highlighted</li>
</ul>
<p><img alt="" src="/media/screenshot-from-2020-10-26-21-26-24.png"></p>
<p>Also, as the wiki points out, ANSI-compliant C compilers don't allow constant strings to be overwritten, which can be avoided by changing "*M" to "M[3]" and omitting "M=". I did this and tried to compile + run it, and sure enough,</p>
<div class="highlight"><pre><span></span><code><span class="o">~</span><span class="w"> </span><span class="n">gcc</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">a</span><span class="p">.</span><span class="k">out</span><span class="w"> </span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">14</span><span class="err">:</span><span class="mi">32</span><span class="err">:</span><span class="w"> </span><span class="nl">warning</span><span class="p">:</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="err">‘</span><span class="nc">int</span><span class="err">’</span><span class="w"> </span><span class="o">[</span><span class="n">-Wimplicit-int</span><span class="o">]</span>
<span class="w">   </span><span class="mi">14</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">char</span><span class="w"> </span><span class="n">M</span><span class="o">[</span><span class="n">3</span><span class="o">]</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span><span class="n">E</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">J</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">,</span><span class="n">T</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">;</span><span class="n">main</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="err">{</span><span class="k">for</span><span class="p">(</span><span class="o">*</span><span class="n">J</span><span class="o">=</span><span class="n">A</span><span class="o">=</span><span class="n">scanf</span><span class="p">(</span><span class="ss">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">C</span><span class="p">);</span>
<span class="w">      </span><span class="o">|</span><span class="w">                                </span><span class="o">^~~~</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="w"> </span><span class="ow">In</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="err">‘</span><span class="n">main</span><span class="err">’:</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">14</span><span class="err">:</span><span class="mi">32</span><span class="err">:</span><span class="w"> </span><span class="nl">warning</span><span class="p">:</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="err">‘</span><span class="n">C</span><span class="err">’</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="err">‘</span><span class="nc">int</span><span class="err">’</span><span class="w"> </span><span class="o">[</span><span class="n">-Wimplicit-int</span><span class="o">]</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">14</span><span class="err">:</span><span class="mi">49</span><span class="err">:</span><span class="w"> </span><span class="nl">warning</span><span class="p">:</span><span class="w"> </span><span class="n">implicit</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="err">‘</span><span class="n">scanf</span><span class="err">’</span><span class="w"> </span><span class="o">[</span><span class="n">-Wimplicit-function-declaration</span><span class="o">]</span>
<span class="w">   </span><span class="mi">14</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nc">char</span><span class="w"> </span><span class="n">M</span><span class="o">[</span><span class="n">3</span><span class="o">]</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span><span class="n">E</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">J</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">,</span><span class="n">T</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">;</span><span class="n">main</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="err">{</span><span class="k">for</span><span class="p">(</span><span class="o">*</span><span class="n">J</span><span class="o">=</span><span class="n">A</span><span class="o">=</span><span class="n">scanf</span><span class="p">(</span><span class="ss">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">C</span><span class="p">);</span>
<span class="w">      </span><span class="o">|</span><span class="w">                                                 </span><span class="o">^~~~~</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">14</span><span class="err">:</span><span class="mi">49</span><span class="err">:</span><span class="w"> </span><span class="nl">warning</span><span class="p">:</span><span class="w"> </span><span class="n">incompatible</span><span class="w"> </span><span class="n">implicit</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">built</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="err">‘</span><span class="n">scanf</span><span class="err">’</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">1</span><span class="err">:</span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="nl">note</span><span class="p">:</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="err">‘</span><span class="o">&lt;</span><span class="n">stdio</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;</span><span class="err">’</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="err">‘</span><span class="n">scanf</span><span class="err">’</span>
<span class="w">  </span><span class="o">+++</span><span class="w"> </span><span class="o">|+</span><span class="n">#include</span><span class="w"> </span><span class="o">&lt;</span><span class="n">stdio</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="n">#define</span><span class="w"> </span><span class="n">W</span><span class="w"> </span><span class="mi">40</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">16</span><span class="err">:</span><span class="mi">15</span><span class="err">:</span><span class="w"> </span><span class="nl">warning</span><span class="p">:</span><span class="w"> </span><span class="n">implicit</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="err">‘</span><span class="n">printf</span><span class="err">’</span><span class="w"> </span><span class="o">[</span><span class="n">-Wimplicit-function-declaration</span><span class="o">]</span>
<span class="w">   </span><span class="mi">16</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">[</span><span class="n">E   </span><span class="o">]=</span><span class="w">  </span><span class="n">E</span><span class="p">)</span><span class="w">   </span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;._&quot;</span><span class="p">);</span><span class="w">  </span><span class="k">for</span><span class="p">(;(</span><span class="n">A</span><span class="o">-=</span><span class="n">Z</span><span class="o">=</span><span class="err">!</span><span class="n">Z</span><span class="p">)</span><span class="w">  </span><span class="o">||</span><span class="w">  </span><span class="p">(</span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;\n|&quot;</span>
<span class="w">      </span><span class="o">|</span><span class="w">               </span><span class="o">^~~~~~</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">16</span><span class="err">:</span><span class="mi">15</span><span class="err">:</span><span class="w"> </span><span class="nl">warning</span><span class="p">:</span><span class="w"> </span><span class="n">incompatible</span><span class="w"> </span><span class="n">implicit</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">built</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="err">‘</span><span class="n">printf</span><span class="err">’</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">16</span><span class="err">:</span><span class="mi">15</span><span class="err">:</span><span class="w"> </span><span class="nl">note</span><span class="p">:</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="err">‘</span><span class="o">&lt;</span><span class="n">stdio</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;</span><span class="err">’</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="err">‘</span><span class="n">printf</span><span class="err">’</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">16</span><span class="err">:</span><span class="mi">51</span><span class="err">:</span><span class="w"> </span><span class="nl">warning</span><span class="p">:</span><span class="w"> </span><span class="n">incompatible</span><span class="w"> </span><span class="n">implicit</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">built</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="err">‘</span><span class="n">printf</span><span class="err">’</span>
<span class="w">   </span><span class="mi">16</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">[</span><span class="n">E   </span><span class="o">]=</span><span class="w">  </span><span class="n">E</span><span class="p">)</span><span class="w">   </span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;._&quot;</span><span class="p">);</span><span class="w">  </span><span class="k">for</span><span class="p">(;(</span><span class="n">A</span><span class="o">-=</span><span class="n">Z</span><span class="o">=</span><span class="err">!</span><span class="n">Z</span><span class="p">)</span><span class="w">  </span><span class="o">||</span><span class="w">  </span><span class="p">(</span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;\n|&quot;</span>
<span class="w">      </span><span class="o">|</span><span class="w">                                                   </span><span class="o">^~~~~~</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">16</span><span class="err">:</span><span class="mi">51</span><span class="err">:</span><span class="w"> </span><span class="nl">note</span><span class="p">:</span><span class="w"> </span><span class="k">include</span><span class="w"> </span><span class="err">‘</span><span class="o">&lt;</span><span class="n">stdio</span><span class="p">.</span><span class="n">h</span><span class="o">&gt;</span><span class="err">’</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="err">‘</span><span class="n">printf</span><span class="err">’</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">18</span><span class="err">:</span><span class="mi">31</span><span class="err">:</span><span class="w"> </span><span class="nl">warning</span><span class="p">:</span><span class="w"> </span><span class="nf">format</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">literal</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">no</span><span class="w"> </span><span class="nf">format</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="o">[</span><span class="n">-Wformat-security</span><span class="o">]</span>
<span class="w">   </span><span class="mi">18</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">)</span><span class="w">    </span><span class="p">;</span><span class="w">   </span><span class="n">Z</span><span class="w">    </span><span class="o">||</span><span class="w">    </span><span class="n">printf</span><span class="w">   </span><span class="p">(</span><span class="n">M</span><span class="w">   </span><span class="p">))</span><span class="n">M</span><span class="o">[</span><span class="n">Z</span><span class="o">]=</span><span class="n">Z</span><span class="o">[</span><span class="n">A-(E   =A[J-Z</span><span class="o">]</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="err">!</span><span class="n">C</span>
<span class="w">      </span><span class="o">|</span><span class="w">                               </span><span class="o">^</span>
<span class="n">m</span><span class="p">.</span><span class="nl">c</span><span class="p">:</span><span class="mi">20</span><span class="err">:</span><span class="mi">8</span><span class="err">:</span><span class="w"> </span><span class="nl">warning</span><span class="p">:</span><span class="w"> </span><span class="n">implicit</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="err">‘</span><span class="nf">rand</span><span class="err">’</span><span class="w"> </span><span class="o">[</span><span class="n">-Wimplicit-function-declaration</span><span class="o">]</span>
<span class="w">   </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="mi">6</span><span class="o">&lt;&lt;</span><span class="mi">27</span><span class="o">&lt;</span><span class="nf">rand</span><span class="p">()</span><span class="o">||</span><span class="err">!</span><span class="n">C</span><span class="o">&amp;</span><span class="err">!</span><span class="n">Z</span><span class="vm">?</span><span class="n">J</span><span class="o">[</span><span class="n">T[E</span><span class="o">]=</span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="err">]</span><span class="o">=</span><span class="n">E</span><span class="p">,</span><span class="n">J</span><span class="o">[</span><span class="n">T[A</span><span class="o">]=</span><span class="n">A</span><span class="o">-</span><span class="n">Z</span><span class="err">]</span><span class="o">=</span><span class="n">A</span><span class="p">,</span><span class="ss">&quot;_.&quot;</span><span class="err">:</span><span class="ss">&quot; |&quot;</span><span class="err">]</span><span class="p">;</span><span class="err">}</span>
<span class="w">      </span><span class="o">|</span><span class="w">        </span><span class="o">^~~~</span>
<span class="mi">24</span>
<span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">.</span><span class="n">_</span><span class="o">|</span>
<span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="p">.</span><span class="n">_</span><span class="o">|</span>
<span class="o">|</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="err">$</span>
</code></pre></div>

<p>It works!</p>
<p>This code tries to read the value for height (which I entered as 24). The width is locked to 80 characters, probably because that was the default number of characters per line in 1988??</p>
<p>I'll attempt to de-obfuscate this code as much as I can and try to explain how it works, and maybe even re-implement it's logic in a different language.</p>
<h2>Cleanup</h2>
<p>I started out by removing unwanted white-spaces and line breaks, which gave me</p>
<div class="highlight"><pre><span></span><code><span class="nc">char</span><span class="w"> </span><span class="n">M</span><span class="o">[</span><span class="n">3</span><span class="o">]</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">Z</span><span class="p">,</span><span class="n">E</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">J</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">,</span><span class="n">T</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">;</span><span class="n">main</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="err">{</span><span class="k">for</span><span class="p">(</span><span class="o">*</span><span class="n">J</span><span class="o">=</span><span class="n">A</span><span class="o">=</span><span class="n">scanf</span><span class="p">(</span><span class="ss">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">C</span><span class="p">);</span><span class="c1">--E;J[E]=T[E]=E)printf(&quot;._&quot;);for(;(A-=Z=!Z)||(printf(&quot;\n|&quot;),A=39,C--);Z||printf(M))M[Z]=Z[A-(E=A[J-Z])&amp;&amp;!C&amp;A==T[A]|6&lt;&lt;27&lt;rand()||!C&amp;!Z?J[T[E]=T[A]]=E,J[T[A]=A-Z]=A,&quot;_.&quot;:&quot; |&quot;];}</span>
</code></pre></div>

<p>the whole program is only 239 bytes!. Running it through code beautify gave me:</p>
<div class="highlight"><pre><span></span><code><span class="nc">char</span><span class="w"> </span><span class="n">M</span><span class="o">[</span><span class="n">3</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">Z</span><span class="p">,</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">40</span><span class="o">]</span><span class="p">;</span>
<span class="n">main</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">J</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scanf</span><span class="p">(</span><span class="ss">&quot;%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">C</span><span class="p">);</span><span class="w"> </span><span class="o">--</span><span class="n">E</span><span class="p">;</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">)</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;._&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(;(</span><span class="n">A</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">Z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">!</span><span class="n">Z</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;\n|&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="o">--</span><span class="p">);</span><span class="w"> </span><span class="n">Z</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="n">M</span><span class="p">))</span><span class="w"> </span>
<span class="w">    </span><span class="n">M</span><span class="o">[</span><span class="n">Z</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Z</span><span class="o">[</span><span class="n">A - (E = A[J - Z</span><span class="o">]</span><span class="p">)</span><span class="w"> </span>
<span class="w">      </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">C</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">rand</span><span class="p">()</span><span class="w"> </span>
<span class="w">      </span><span class="o">||</span><span class="w"> </span><span class="err">!</span><span class="n">C</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">Z</span><span class="w"> </span><span class="vm">?</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">T[E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">T[A</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Z</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;_.&quot;</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="ss">&quot; |&quot;</span><span class="err">]</span><span class="p">;</span>
<span class="err">}</span>
</code></pre></div>

<p>Lets try removing the scanf call and replacing 40 (I'm guessing the width of the maze divided by 2) so we can experiment with arbitrary widths and heights.</p>
<div class="highlight"><pre><span></span><code><span class="n">#define</span><span class="w"> </span><span class="n">W</span><span class="w"> </span><span class="mi">30</span>
<span class="nc">char</span><span class="w"> </span><span class="n">M</span><span class="o">[</span><span class="n">3</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">Z</span><span class="p">,</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">W</span><span class="p">,</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">W</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">W</span><span class="o">]</span><span class="p">;</span>
<span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="err">{</span>
<span class="w">  </span><span class="nc">int</span><span class="w"> </span><span class="n">H</span><span class="o">=</span><span class="mi">20</span><span class="p">;</span><span class="w"> </span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">J</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">--</span><span class="n">E</span><span class="p">;</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">)</span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;._&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(;(</span><span class="n">A</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">Z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">!</span><span class="n">Z</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;\n|&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">W</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">--</span><span class="p">);</span><span class="w"> </span><span class="n">Z</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="n">M</span><span class="p">))</span><span class="w"> </span>
<span class="w">    </span><span class="n">M</span><span class="o">[</span><span class="n">Z</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Z</span><span class="o">[</span><span class="n">A - (E = A[J - Z</span><span class="o">]</span><span class="p">)</span><span class="w"> </span>
<span class="w">      </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">H</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">27</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">rand</span><span class="p">()</span><span class="w"> </span>
<span class="w">      </span><span class="o">||</span><span class="w"> </span><span class="err">!</span><span class="n">H</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">Z</span><span class="w"> </span><span class="vm">?</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">T[E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">T[A</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Z</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;_.&quot;</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="ss">&quot; |&quot;</span><span class="err">]</span><span class="p">;</span>
<span class="err">}</span>
</code></pre></div>

<p>running this yields a 60x20 maze as expected</p>
<div class="highlight"><pre><span></span><code><span class="na">._._._._._._._._._._._._._._._._._._._._._._._._._._._._._</span>
<span class="err">|</span><span class="nf">_._.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._._.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._._._</span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="nf">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_._._._.</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="nf">_._.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_._._.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="nf">_._._.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_</span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="na">._._._._._</span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._._</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="na">._._.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="nf">_._._.</span><span class="w"> </span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="no">._._.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="nf">_.</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="na">._</span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="no">._._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="na">._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._._._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_._._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._._</span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="nf">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="no">._._._._._._._</span><span class="err">|</span><span class="no">_._._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span>
<span class="err">|</span><span class="nf">_._._._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._._</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._._._.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_._._._.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="nf">_._.</span><span class="w"> </span><span class="no">._._._</span><span class="err">|</span><span class="w"> </span><span class="no">._._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="no">_._._</span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="no">._._._</span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="na">._.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._._.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="nf">_._</span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="no">_._._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._._._.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="na">._</span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="no">_._._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="nf">_.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="no">._._._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="no">._._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span>
<span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="na">._._</span><span class="err">|</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._._.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="no">._._</span><span class="err">|</span><span class="no">_._._._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span>
<span class="err">|</span><span class="nf">_._._._._._</span><span class="err">|</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="w"> </span><span class="no">._.</span><span class="w"> </span><span class="no">._</span><span class="err">|</span><span class="no">_.</span><span class="w"> </span><span class="err">|</span><span class="no">_._.</span><span class="w"> </span><span class="err">|</span>
<span class="err">|</span><span class="nf">_._._._._._._._</span><span class="err">|</span><span class="no">_._._._._</span><span class="err">|</span><span class="no">_._._._</span><span class="err">|</span><span class="no">_</span><span class="err">|</span><span class="no">_._._</span><span class="err">|</span><span class="no">_._._._._._._._</span><span class="err">|</span>
</code></pre></div>

<h2>Analysis</h2>
<p>let's start by looking at line 5: <code>for ( * J = A = 1; --E; J[E] = T[E] = E)printf("._");</code></p>
<p><code>printf("._")</code> is responsible for the first line of wall, but the loop it's part of is doing something else.</p>
<ul>
<li>It initializes first value of array J and char A as 1.</li>
<li>evaluates <code>--E</code>, so runs 29 times</li>
<li>does <code>J[E] = T[E] = E</code> and <code>printf("._")</code>.</li>
</ul>
<p>So, It looks like at the end of the loop</p>
<ul>
<li>E will be zero</li>
<li>Array J will have values 1,1,2,3,..29 (1 at zeroth position set in the loop init)</li>
<li>Array T will have values 0,1,2,3,..29</li>
</ul>
<p>setting a breakpoint at line 6 and running this with gdb shows you what happened:</p>
<div class="highlight"><pre><span></span><code>(gdb) x/100b J
0x555555558040 &lt;J&gt;:     1   1   2   3   4   5   6   7
0x555555558048 &lt;J+8&gt;:   8   9   10  11  12  13  14  15
0x555555558050 &lt;J+16&gt;:  16  17  18  19  20  21  22  23
0x555555558058 &lt;J+24&gt;:  24  25  26  27  28  29  0   0
0x555555558060 &lt;J+32&gt;:  0   0   0   0   0   0   0   0
0x555555558068 &lt;J+40&gt;:  0   0   0   0   0   0   0   0
0x555555558070 &lt;J+48&gt;:  0   0   0   0   0   0   0   0
0x555555558078 &lt;J+56&gt;:  0   0   0   0   0   0   0   0
0x555555558080 &lt;J+64&gt;:  0   0   0   0   0   0   0   0
0x555555558088 &lt;J+72&gt;:  0   0   0   0   0   0   0   0
0x555555558090 &lt;J+80&gt;:  0   0   0   0   0   0   0   0
0x555555558098 &lt;J+88&gt;:  0   0   0   0   0   0   0   0
0x5555555580a0 &lt;J+96&gt;:  0   0   0   0
(gdb) x/100b T
0x5555555580c0 &lt;T&gt;:     0   1   2   3   4   5   6   7
0x5555555580c8 &lt;T+8&gt;:   8   9   10  11  12  13  14  15
0x5555555580d0 &lt;T+16&gt;:  16  17  18  19  20  21  22  23
0x5555555580d8 &lt;T+24&gt;:  24  25  26  27  28  29  0   0
0x5555555580e0 &lt;T+32&gt;:  0   0   0   0   0   0   0   0
0x5555555580e8 &lt;T+40&gt;:  0   0   0   0   0   0   0   0
0x5555555580f0 &lt;T+48&gt;:  0   0   0   0   0   0   0   0
0x5555555580f8 &lt;T+56&gt;:  0   0   0   0   0   0   0   0
0x555555558100 &lt;T+64&gt;:  0   0   0   0   0   0   0   0
0x555555558108 &lt;T+72&gt;:  0   0   0   0   0   0   0   0
0x555555558110 &lt;T+80&gt;:  0   0   0   0   0   0   0   0
0x555555558118 &lt;T+88&gt;:  0   0   0   0   0   0   0   0
0x555555558120 &lt;T+96&gt;:  0   0   0   0
(gdb) print E
$9 = 0 &#39;\000&#39;
(gdb) print A
$11 = 1 &#39;\001&#39;
</code></pre></div>

<p>Line 6, starts with a loop condition <code>(A -= Z = !Z) || (printf("\n|"), A = W-1, H--)</code> . The printf in this condition also does, from what it looks like, draws the left side wall.</p>
<p>Quick refresher on conditional execution using <code>||</code> and <code>&amp;&amp;</code></p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;test 1</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;test 2</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// any nonzero</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;test 3</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;test 4</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// any nonzero</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cm">/* prints:</span>
<span class="cm">test 1                                                                                                                                                                             </span>
<span class="cm">test 4</span>
<span class="cm">*/</span>
</code></pre></div>

<p>So, the loop test expression executes nothing when <code>A -= Z = !Z</code> evaluates to non-zero and <code>(printf("\n|"), A = W-1, H--)</code> when <code>A -= Z = !Z</code> evaluates to zero. We can also guess that <code>(printf("\n|"), A = W-1, H--)</code> is executed once per row, since it has the left wall printf.</p>
<p>In the whole program, Z, with initial value 0 is assigned a value only in this loop condition and it's simply !Z. This means, it can only take either 0 or 1 as a value.</p>
<p>Also, this give us a clue about A. A is set to W-1 in as soon as the loop starts and is decremented in every alternate loop when Z == 1. A is not modified anywhere in the loop. So, A's value should go like 29,29,28,28,...1. when the final A-=Z happens, the condition evaluates to 0, triggering the side-wall expression which resets value of A to W-1.</p>
<p>The update statement is just <code>Z || printf(M)</code>. Seeing as this is the only other printf, we can be sure that this is the point where the maze gets rendered.</p>
<p>The body of the loop is something like <code>M[Z] = Z[..stuff..];</code>. This looks bizarre. Z is used both as an array and an index. But if you know pointer math, <code>M[Z] = Z[x];</code> is equivalent to <code>M[Z] = *(Z + x);</code>. This is exactly what we're going to do. ie, create a <code>char *x</code> and assign this the value of whatever Z is adding with</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">Z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">!</span><span class="n">Z</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;\n|&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">W</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">--</span><span class="p">);</span><span class="w"> </span><span class="n">Z</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="n">M</span><span class="p">))</span>
<span class="err">{</span>
<span class="w">  </span><span class="nc">char</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="o">[</span><span class="n">J - Z</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">H</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">805306347</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">rand</span><span class="p">()</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="err">!</span><span class="n">H</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">Z</span><span class="w"> </span><span class="vm">?</span><span class="w"> </span><span class="p">(</span><span class="n">J</span><span class="o">[</span><span class="n">T[E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">T[A</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Z</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;_.&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="ss">&quot; |&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="n">M</span><span class="o">[</span><span class="n">Z</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="n">Z</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
<span class="err">}</span>
</code></pre></div>

<p>Also, if you look carefully, you can see that this is basically a terenary operator with condition <code>(A - (E = A[J - Z]) &amp;&amp; !H &amp; A == T[A] | 805306347 &lt; rand() || !H &amp; !Z)</code> with values <code>(J[T[E] = T[A]] = E, J[T[A] = A - Z] = A, "_.")</code> and <code>" |";</code>. Let's convert this to a proper if else:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">Z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">!</span><span class="n">Z</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">printf</span><span class="p">(</span><span class="ss">&quot;\n|&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">W</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="o">--</span><span class="p">);</span><span class="w"> </span><span class="n">Z</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="n">M</span><span class="p">))</span>
<span class="err">{</span>
<span class="w">  </span><span class="nc">char</span><span class="w"> </span><span class="o">*</span><span class="n">x</span><span class="p">;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">A</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="o">[</span><span class="n">J - Z</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">H</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">805306347</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nf">rand</span><span class="p">()</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="err">!</span><span class="n">H</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="err">!</span><span class="n">Z</span><span class="p">)</span>
<span class="w">  </span><span class="err">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">J</span><span class="o">[</span><span class="n">T[E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="n">J</span><span class="o">[</span><span class="n">T[A</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Z</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;_.&quot;</span><span class="p">);</span><span class="w"> </span><span class="err">}</span>
<span class="w">  </span><span class="k">else</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot; |&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="n">M</span><span class="o">[</span><span class="n">Z</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="n">Z</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
<span class="err">}</span>
</code></pre></div>

<p>The if success case looks like an elaborate swap operation. It's comma seperated, but this statement can be boken down like so:</p>
<div class="highlight"><pre><span></span><code><span class="err">{</span>
<span class="w">      </span><span class="n">J</span><span class="o">[</span><span class="n">T[E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">;</span>
<span class="w">      </span><span class="n">J</span><span class="o">[</span><span class="n">T[A</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Z</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">;</span>
<span class="w">      </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;_.&quot;</span><span class="p">;</span>
<span class="err">}</span>
</code></pre></div>

<p>and then </p>
<div class="highlight"><pre><span></span><code><span class="err">{</span>
<span class="w">  </span><span class="n">T</span><span class="o">[</span><span class="n">E</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="p">;</span>
<span class="w">  </span><span class="n">J</span><span class="o">[</span><span class="n">T[E</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">E</span><span class="p">;</span>
<span class="w">  </span><span class="n">T</span><span class="o">[</span><span class="n">A</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Z</span><span class="p">;</span>
<span class="w">  </span><span class="n">J</span><span class="o">[</span><span class="n">T[A</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">;</span>
<span class="w">  </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;_.&quot;</span><span class="p">;</span>
<span class="err">}</span>
</code></pre></div>

<p>Now we have some clarity on what happens inside the loop. It either prints a <code>"_."</code> (and does some magical swap operation) or a <code>" |"</code> based on a condition.</p></div>
	<!-- <h2>Comments</h2>
 -->
</div>
		</div>
	</div> 	<!-- <hr> -->
</div> <!-- /container -->
<footer class="aw-footer bg-transparent">
	<div class="container"> <!-- footer -->
		<div class="row">
			<div class="col-md-12">
				<hr/>
				<div class="row">
					<div class="col-md-3  col-xs-6">
						<h4><b>Navigation</b></h4>
						<ul class="list-unstyled my-list-style">
							<li><a href="/">a.tulv.in</a></li>
							<li><a href="/me">About Me</a></li>
							<li><a href="/projects">Projects</a></li>
							<li><a href="https://a.tulv.in/feeds/rss.xml"><i class="fa fa-rss "></i> rss</a></li>
						</ul>
					</div>
					<div class="col-md-3  col-xs-6">
						<h4><b>Categories</b></h4>
						<ul class="list-unstyled my-list-style">
							<li><a href="https://a.tulv.in/category/art.html">Art (5)</a></li>
							<li><a href="https://a.tulv.in/category/programming.html">Programming (15)</a></li>
						</ul>
					</div>
					<div class="col-md-3  col-xs-6">
						<h4><b>Links</b></h4>
						<ul class="list-unstyled my-list-style">
							<li><a href="https://goo.gl/D2GXJ9">My Resume</a></li>
							<li><a href="https://unsplash.com/collections/519921/s'ok-pics">Photography</a></li>
							<li><a href="https://v.tulv.in">Visual References</a></li>
							<li><a href="https://ko-fi.com/atulvinayak">Ko-fi</a></li>
						</ul>
					</div>
					
					<div class="col-md-3 col-xs-6">
						<h4><b>Socials</b></h4>
						<ul class="list-unstyled my-list-style">
							<li><a href="https://github.com/avinayak" target="_blank">GitHub</a>
							</li>
							<li><a href="https://www.linkedin.com/in/atulvinayak" target="_blank">LinkedIn</a>
							</li>
							<li><a href="https://www.instagram.com/avinayak__" target="_blank">Instagram</a>
							</li>
							<li><a href="https://bsky.app/profile/a.tulv.in" target="_blank">BlueSky</a>
							</li>
							<li><a href="https://twitter.com/atulvinayak" target="_blank">Twitter</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</footer>
<div class="container">
	<div class="row">
		<div class="col-md-12 text-center center-block aw-bottom">
			<p>&copy; Atul Vinayak</p>
		</div>
	</div>
</div>
<!-- JavaScript -->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script type="text/javascript">
jQuery(document).ready(function($) {
	$("div.collapseheader").click(function () {
		$header = $(this).children("span").first();
		$codearea = $(this).children(".input_area");
		$codearea.slideToggle(500, function () {
			$header.text(function () {
				return $codearea.is(":visible") ? "Collapse Code" : "Expand Code";
			});
		});
	});
});
</script>
 
</body>
</html>